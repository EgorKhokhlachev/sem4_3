# sem4_3
The third exersise
5. Определить класс Base для работы с приоритетной
очередью целых чисел ограниченного размера. Глубина
очереди задаются в конструкторе класса. В классе должны
быть определены необходимые конструкторы (в том числе
конструктор копирования и перемещения), деструктор, операторы
присваивания (копированием и перемещением), <<, декремент --
(справа и слева, работает как pop), сложения с целым числом
(работает как push), функции push (добавление числа в очередь,
при этом максимальное число должно встать в голову очереди)
и pop (удаление вершины, если это возможно, с сохранением
вытесненной вершины, возвращает информацию об успешности).

В этом классе должна быть создана чисто виртуальная
функция вывода данных класса в файл вида
virtual int output() = 0;

От класса Base надо породить два класса Child0 и Child1,
в первом из которых переопределить функцию int output() как
функцию вывода данных класса в файл в одну строку, а во втором
данную функцию определить как функцию вывода данных класса
в столбец (т.е. по одному элементу данных в одну строку). В
файле с исходными данными в каждой строке задаются данные для
одного экземпляра класса, порожденного от Base. Данные задачи
задаются в виде:

I FileName Data
где I = 0 или I = 1, FileName – имя выходного файла, Data –
все данные одного объекта, разделенные пробелами без указания
глубины, которая определяется как минимально возможная. Для
каждой строки исходного файла надо создать объект класса
Child0, если I == 0, и экземпляр класса Child1, если I == 1
и заполнить его данными Data. Имя выходного файла следует
занести в соответствующее поле созданного объекта. Указатели
на созданные объекты надо поместить в массив act указателей
на базовый класс. Каждый новый объект должен создаваться
функцией вида

Base *CreateData(const char *str, Factory **f ), где f – массив
фабрик для создания I-го дочернего класса от Base. Далее надо
в цикле для каждого объекта из массива act вызвать функцию
output().

Также надо написать разумный тест на все реализованные
функции класса. Тест, в частности, должен содержать сложение
с числом объектов, на которые указывают сохраненные в массиве
act указатели и их циклический сдвиг.
